#Se realiza importancion de las librerias
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns
from google.colab import drive
from sklearn.preprocessing import LabelEncoder
from unidecode import unidecode  # Importar la función unidecode desde la librería unidecode
from sklearn.svm import SVR
from sklearn.model_selection import train_test_split
from google.colab import drive
from sklearn.linear_model import Ridge
from sklearn.linear_model import Lasso
from sklearn.tree import DecisionTreeRegressor
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score
from sklearn.metrics import mean_squared_error
from sklearn.ensemble import AdaBoostRegressor

# Lectura del dataset
drive.mount('/gdrive')
ruta = "/gdrive/MyDrive/datasetu.csv"
data = pd.read_csv(ruta, encoding='latin-1')
Drive already mounted at /gdrive; to attempt to forcibly remount, call drive.mount("/gdrive", force_remount=True).

print(data.shape)
data.head()

Participante	Nombre	Edad	Fecha	Hora	Género	Anteojos	Barba	Bigote	Jornada	Clima	Luminosidad LUX	ID-Video	FC SISTOLE	FC DIASTOLE
0	1	Michael Arley Chaparro	27	01/12/2024	09:47:00 AM	Masculino	NO	SI	NO	MAÑANA	DESPEJADO	942	1	122	78
1	1	Michael Arley Chaparro	27	01/12/2024	09:49:00 AM	Masculino	NO	SI	NO	MAÑANA	DESPEJADO	429	1	122	78
2	1	Michael Arley Chaparro	27	01/12/2024	09:51:00 AM	Masculino	NO	SI	NO	MAÑANA	DESPEJADO	439	1	118	76
3	1	Michael Arley Chaparro	27	01/12/2024	09:53:00 AM	Masculino	NO	SI	NO	MAÑANA	DESPEJADO	740	1	118	76
4	1	Michael Arley Chaparro	27	01/12/2024	09:55:00 AM	Masculino	NO	SI	NO	MAÑANA	DESPEJADO	990	1	121	78

# Veamos las variables categóricas y las numéricas
data.info()
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 310 entries, 0 to 309
Data columns (total 15 columns):
 #   Column            Non-Null Count  Dtype 
---  ------            --------------  ----- 
 0   Participante      310 non-null    int64 
 1   Nombre            310 non-null    object
 2   Edad              310 non-null    int64 
 3   Fecha             310 non-null    object
 4   Hora              310 non-null    object
 5   Género            310 non-null    object
 6   Anteojos          310 non-null    object
 7   Barba             310 non-null    object
 8   Bigote            310 non-null    object
 9   Jornada           310 non-null    object
 10  Clima             310 non-null    object
 11  Luminosidad  LUX  310 non-null    int64 
 12  ID-Video          310 non-null    int64 
 13  FC SISTOLE        310 non-null    int64 
 14  FC DIASTOLE       310 non-null    int64 
dtypes: int64(6), object(9)
memory usage: 36.5+ KB

#Como se pudo evidenciar en el paso anterior, hay datos categoricos la cual se deben convertir a dato numerico:
#  Codificacion de columnas categóricas: Genero y Clima
data = {
    'Género': ['Masculino', 'Femenino', ],
    'Clima': ['Despejado', 'Nublado']
}
df = pd.DataFrame(data)

print("DataFrame original:")
print(df)

DataFrame original:
      Género      Clima
0  Masculino  Despejado
1   Femenino    Nublado

# Leer el archivo CSV en un DataFrame
codificacion = "latin-1"
df = pd.read_csv(ruta, encoding=codificacion)

# Verificar las primeras filas del DataFrame para asegurarse de que se cargó correctamente
print(df.head())

# Lista de nombres de columnas a codificar
columnas_codificar = [ 'Género', 'Clima',  ]

# Inicializar el LabelEncoder
encoder = LabelEncoder()
# Iterar sobre cada columna y aplicar LabelEncoder
for columna in columnas_codificar:
    if columna in df.columns:  # Verificar si la columna está presente en el DataFrame
        df[columna + '_encoded'] = encoder.fit_transform(df[columna])
    else:
        print(f"La columna '{columna}' no está presente en el DataFrame.")

 Participante                  Nombre  Edad       Fecha         Hora  \
0             1  Michael Arley Chaparro    27  01/12/2024  09:47:00 AM   
1             1  Michael Arley Chaparro    27  01/12/2024  09:49:00 AM   
2             1  Michael Arley Chaparro    27  01/12/2024  09:51:00 AM   
3             1  Michael Arley Chaparro    27  01/12/2024  09:53:00 AM   
4             1  Michael Arley Chaparro    27  01/12/2024  09:55:00 AM   

      Género Anteojos Barba Bigote Jornada      Clima  Luminosidad  LUX  \
0  Masculino       NO    SI     NO  MAÑANA  DESPEJADO               942   
1  Masculino       NO    SI     NO  MAÑANA  DESPEJADO               429   
2  Masculino       NO    SI     NO  MAÑANA  DESPEJADO               439   
3  Masculino       NO    SI     NO  MAÑANA  DESPEJADO               740   
4  Masculino       NO    SI     NO  MAÑANA  DESPEJADO               990   

   ID-Video  FC SISTOLE  FC DIASTOLE  
0         1         122           78  
1         1         122           78  
2         1         118           76  
3         1         118           76  
4         1         121           78 

 # Convertir la columna 'Hora' a tipo datetime
  df['Hora'] = pd.to_datetime(df['Hora'])

  # Extraer componentes de tiempo como características numéricas
  df['Hora_del_dia'] = df['Hora'].dt.hour  # Extraer la hora del día (0-23)
  df['Minutos'] = df['Hora'].dt.minute  # Extraer los minutos (0-59)
  df['Segundos'] = df['Hora'].dt.second  # Extraer los segundos (0-59)

  # Eliminar la columna original 'Hora' si ya no es necesaria
  df.drop('Hora', axis=1, inplace=True)

  # Mostrar el DataFrame resultante
  print(df)
  Participante                        Nombre  Edad       Fecha     Género  \
0               1        Michael Arley Chaparro    27  01/12/2024  Masculino   
1               1        Michael Arley Chaparro    27  01/12/2024  Masculino   
2               1        Michael Arley Chaparro    27  01/12/2024  Masculino   
3               1        Michael Arley Chaparro    27  01/12/2024  Masculino   
4               1        Michael Arley Chaparro    27  01/12/2024  Masculino   
..            ...                           ...   ...         ...        ...   
305            10  Diana Carolina Fajardo Pérez    37  01/31/2024   Femenino   
306            10  Diana Carolina Fajardo Pérez    37  01/31/2024   Femenino   
307            10  Diana Carolina Fajardo Pérez    37  01/31/2024   Femenino   
308            10  Diana Carolina Fajardo Pérez    37  01/31/2024   Femenino   
309            10  Diana Carolina Fajardo Pérez    37  01/31/2024   Femenino   

    Anteojos Barba Bigote Jornada      Clima  Luminosidad  LUX  ID-Video  \
0         NO    SI     NO  MAÑANA  DESPEJADO               942         1   
1         NO    SI     NO  MAÑANA  DESPEJADO               429         1   
2         NO    SI     NO  MAÑANA  DESPEJADO               439         1   
3         NO    SI     NO  MAÑANA  DESPEJADO               740         1   
4         NO    SI     NO  MAÑANA  DESPEJADO               990         1   
..       ...   ...    ...     ...        ...               ...       ...   
305       NO    NO     NO   TARDE  DESPEJADO              1122        10   
306       NO    NO     NO   TARDE  DESPEJADO              1133        10   
307       NO    NO     NO   TARDE  DESPEJADO              1120        10   
308       NO    NO     NO   TARDE  DESPEJADO              1057        10   
309       NO    NO     NO   TARDE  DESPEJADO              1091        10   

     FC SISTOLE  FC DIASTOLE  Género_encoded  Clima_encoded  Hora_del_dia  \
0           122           78               2              0             9   
1           122           78               2              0             9   
2           118           76               2              0             9   
3           118           76               2              0             9   
4           121           78               2              0             9   
..          ...          ...             ...            ...           ...   
305         131           84               0              0            14   
306         137           87               0              0            14   
307         125           80               0              0            14   
308         127           81               0              0            14   
309         129           83               0              0            14   

     Minutos  Segundos  
0         47         0  
1         49         0  
2         51         0  
3         53         0  
4         55         0  
..       ...       ...  
305       30         0  
306       32         0  
307       34         0  
308       36         0  
309       38         0  

[310 rows x 19 columns]
<ipython-input-19-abd9360d1f44>:2: UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
  df['Hora'] = pd.to_datetime(df['Hora'])

print(df.dtypes)
Participante         int64
Nombre              object
Edad                 int64
Fecha               object
Género              object
Anteojos            object
Barba               object
Bigote              object
Jornada             object
Clima               object
Luminosidad  LUX     int64
ID-Video             int64
FC SISTOLE           int64
FC DIASTOLE          int64
Género_encoded       int64
Clima_encoded        int64
Hora_del_dia         int32
Minutos              int32
Segundos             int32
dtype: object
